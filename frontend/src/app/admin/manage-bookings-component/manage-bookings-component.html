<div class="container">

  <h2 class="h2 text-center mt-5">Manage Bookings</h2>
  <div class="row w-100 my-3">

    <!-- Search Section -->
    <div class="row mb-3">
      <div class="d-flex justify-content-center w-50 center-item input-group">
        <span class="input-group-text">Booking Reference</span>
        <input
          class="form-control"
          type="text"
          placeholder="Enter booking reference"
          [(ngModel)]="bookingRef"
          (keyup)="handleSearch()"
          required />
      </div>
    </div>

    <div class="row mt-5 bg-light shadow border">
      <!-- Bookings list -->
      @for(booking of filteredBookings$ | async; track booking.id) {
        <ng-container>
          <div class="col-4 col-md-4 col-sm-2 my-3 p-2">
            <p><strong>Booking Code:</strong> {{ booking.bookingReference }}</p>
            <p><strong>Check In Date:</strong> {{ booking.checkInDate }}</p>
            <p><strong>Check Out Date:</strong> {{ booking.checkOutDate }}</p>
            <p><strong>Total Price:</strong> {{ booking.totalPrice | currency}}</p>
            <p><strong>Payment Status:</strong> {{ booking.paymentStatus }}</p>
            <p><strong>Booking Status:</strong> {{ booking.bookingStatus }}</p>
            <button class="btn btn-info" (click)="manageBooking(booking.bookingReference)">
              Manage Booking
            </button>
          </div>
        </ng-container>
      }
    </div>
    
  </div>